<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Terminal</title>
    <link>/</link>
    <description>Recent content on Terminal</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>en</language>
    <lastBuildDate>Mon, 09 Dec 2024 00:00:00 +0000</lastBuildDate><atom:link href="/index.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>SQL Injection ðŸ’‰</title>
      <link>/posts/sql-injection/</link>
      <pubDate>Mon, 09 Dec 2024 00:00:00 +0000</pubDate>
      
      <guid>/posts/sql-injection/</guid>
      <description>1. What is SQL? SQL is a standardized (ANSI in 1986, ISO in 1987) programming language which is used for managing relational databases and performing various operations on the data in them.
Example SQL table containing employee data; the name of the table is &amp;rsquo;employees&#39;:
userid first_name last_name department salary($) auth_tan 32147 Paulina Traves Accounting 46.000 P45JSI 89762 Tobi Barnett Development 77.000 TA9LL1 96134 Bob Franco Marketing 83.700 LO9S2V 34477 Abraham Holman Development 50.</description>
      <content>&lt;h1 id=&#34;1-what-is-sql&#34;&gt;1. What is SQL?&lt;/h1&gt;
&lt;p&gt;SQL is a standardized (ANSI in 1986, ISO in 1987) programming language which is used for managing relational databases and performing various operations on the data in them.&lt;/p&gt;
&lt;p&gt;Example SQL table containing employee data; the name of the table is &amp;rsquo;employees&#39;:&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;userid&lt;/th&gt;
&lt;th&gt;first_name&lt;/th&gt;
&lt;th&gt;last_name&lt;/th&gt;
&lt;th&gt;department&lt;/th&gt;
&lt;th&gt;salary($)&lt;/th&gt;
&lt;th&gt;auth_tan&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;32147&lt;/td&gt;
&lt;td&gt;Paulina&lt;/td&gt;
&lt;td&gt;Traves&lt;/td&gt;
&lt;td&gt;Accounting&lt;/td&gt;
&lt;td&gt;46.000&lt;/td&gt;
&lt;td&gt;P45JSI&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;89762&lt;/td&gt;
&lt;td&gt;Tobi&lt;/td&gt;
&lt;td&gt;Barnett&lt;/td&gt;
&lt;td&gt;Development&lt;/td&gt;
&lt;td&gt;77.000&lt;/td&gt;
&lt;td&gt;TA9LL1&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;96134&lt;/td&gt;
&lt;td&gt;Bob&lt;/td&gt;
&lt;td&gt;Franco&lt;/td&gt;
&lt;td&gt;Marketing&lt;/td&gt;
&lt;td&gt;83.700&lt;/td&gt;
&lt;td&gt;LO9S2V&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;34477&lt;/td&gt;
&lt;td&gt;Abraham&lt;/td&gt;
&lt;td&gt;Holman&lt;/td&gt;
&lt;td&gt;Development&lt;/td&gt;
&lt;td&gt;50.000&lt;/td&gt;
&lt;td&gt;UU2ALK&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;37648&lt;/td&gt;
&lt;td&gt;John&lt;/td&gt;
&lt;td&gt;Smith&lt;/td&gt;
&lt;td&gt;Marketing&lt;/td&gt;
&lt;td&gt;64.350&lt;/td&gt;
&lt;td&gt;3SL99A&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;A company saves the following employee information in their databases: a unique employee number (&amp;lsquo;userid&amp;rsquo;), last name, first name, department, salary and a transaction authentication number (&amp;lsquo;auth_tan&amp;rsquo;). Each of these pieces of information is stored in a separate column and each row represents one employee of the company.&lt;/p&gt;
&lt;p&gt;SQL queries can be used to modify a database table and its index structures and add, update and delete rows of data.&lt;/p&gt;
&lt;p&gt;There are three main categories of SQL commands:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Data Manipulation Language (DML)&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Data Definition Language (DDL)&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Data Control Language (DCL)&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Each of these command types can be used by attackers to compromise the confidentiality, integrity, and/or availability of a system. Proceed with the lesson to learn more about the SQL command types and how they relate to protections goals.&lt;/p&gt;
&lt;h3 id=&#34;it-is-your-turn&#34;&gt;It is your turn!&lt;/h3&gt;
&lt;p&gt;Look at the example table. Try to retrieve the department of the employee Bob Franco. Note that you have been granted full administrator privileges in this assignment and can access all data without authentication.&lt;/p&gt;
&lt;h3 id=&#34;solution&#34;&gt;Solution&lt;/h3&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-sql&#34; data-lang=&#34;sql&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;SELECT&lt;/span&gt; department &lt;span style=&#34;color:#66d9ef&#34;&gt;FROM&lt;/span&gt; employees &lt;span style=&#34;color:#66d9ef&#34;&gt;WHERE&lt;/span&gt; first_name &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;Bob&amp;#39;&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;AND&lt;/span&gt; last_name &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;Franco&amp;#39;&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h1 id=&#34;2-data-manipulation-language-dml&#34;&gt;2. Data Manipulation Language (DML)&lt;/h1&gt;
&lt;p&gt;As implied by the name, data manipulation language deals with the manipulation of data. Many of the most common SQL statements, including SELECT, INSERT, UPDATE, and DELETE, may be categorized as DML statements. DML statements may be used for requesting records (SELECT), adding records (INSERT), deleting records (DELETE), and modifying existing records (UPDATE).&lt;/p&gt;
&lt;p&gt;If an attacker succeeds in &amp;ldquo;injecting&amp;rdquo; DML statements into a SQL database, he can violate the confidentiality (using SELECT statements), integrity (using UPDATE statements), and availability (using DELETE or UPDATE statements) of a system.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;DML commands are used for storing, retrieving, modifying, and deleting data.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;SELECT - retrieve data from a database&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;INSERT - insert data into a database&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;UPDATE - updates existing data within a database&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;DELETE - delete records from a database&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Example:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Retrieve data:&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-sql&#34; data-lang=&#34;sql&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;     &lt;span style=&#34;color:#66d9ef&#34;&gt;SELECT&lt;/span&gt; phone  
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;     &lt;span style=&#34;color:#66d9ef&#34;&gt;FROM&lt;/span&gt; employees  
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;     &lt;span style=&#34;color:#66d9ef&#34;&gt;WHERE&lt;/span&gt; userid &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;96134&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;pre&gt;&lt;code&gt;- This statement retrieves the phone number of the employee who has the userid 96134.
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;it-is-your-turn-1&#34;&gt;It is your turn!&lt;/h3&gt;
&lt;p&gt;Try to change the department of Tobi Barnett to &amp;lsquo;Sales&amp;rsquo;. Note that you have been granted full administrator privileges in this assignment and can access all data without authentication.&lt;/p&gt;
&lt;h3 id=&#34;solution-1&#34;&gt;solution&lt;/h3&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-sql&#34; data-lang=&#34;sql&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;-- UPDATING TOBI DEPARTMENT RECORD
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;UPDATE&lt;/span&gt; employees
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;SET&lt;/span&gt; department &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;Sales&amp;#39;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;WHERE&lt;/span&gt; first_name &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;Tobi&amp;#39;&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;AND&lt;/span&gt; last_name &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;Barnett&amp;#39;&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h1 id=&#34;4-data-definition-language-ddl&#34;&gt;4. Data Definition Language (DDL)&lt;/h1&gt;
&lt;p&gt;Data definition language includes commands for defining data structures. DDL commands are commonly used to define a databaseâ€™s schema. The schema refers to the overall structure or organization of the database and. in SQL databases, includes objects such as tables, indexes, views, relationships, triggers, and more.&lt;/p&gt;
&lt;p&gt;If an attacker successfully &amp;ldquo;injects&amp;rdquo; DDL type SQL commands into a database, he can violate the integrity (using ALTER and DROP statements) and availability (using DROP statements) of a system.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;DDL commands are used for creating, modifying, and dropping the structure of database objects.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;CREATE - create database objects such as tables and views&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ALTER - alters the structure of the existing database&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;DROP - delete objects from the database&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Example:&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-sql&#34; data-lang=&#34;sql&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;     &lt;span style=&#34;color:#66d9ef&#34;&gt;CREATE&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;TABLE&lt;/span&gt; employees(  
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        Â Â Â Â userid varchar(&lt;span style=&#34;color:#ae81ff&#34;&gt;6&lt;/span&gt;) &lt;span style=&#34;color:#66d9ef&#34;&gt;not&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;null&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;primary&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;key&lt;/span&gt;, 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        Â Â Â Â first_name varchar(&lt;span style=&#34;color:#ae81ff&#34;&gt;20&lt;/span&gt;),  
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        Â Â Â Â last_name varchar(&lt;span style=&#34;color:#ae81ff&#34;&gt;20&lt;/span&gt;),  
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        Â Â Â Â department varchar(&lt;span style=&#34;color:#ae81ff&#34;&gt;20&lt;/span&gt;),  
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        Â Â Â Â salary varchar(&lt;span style=&#34;color:#ae81ff&#34;&gt;10&lt;/span&gt;),  
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        Â Â Â Â auth_tan varchar(&lt;span style=&#34;color:#ae81ff&#34;&gt;6&lt;/span&gt;)  
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        );
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;pre&gt;&lt;code&gt;- This statement creates the employees example table given on page 2.
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Now try to modify the schema by adding the column &amp;ldquo;phone&amp;rdquo; (varchar(20)) to the table &amp;ldquo;employees&amp;rdquo;. :&lt;/p&gt;
&lt;h3 id=&#34;solution-2&#34;&gt;Solution&lt;/h3&gt;
&lt;p&gt;syntax for altering table is&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;ALTER TABLE table_name
ADD column_you_want_to_add datatype
&lt;/code&gt;&lt;/pre&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-sql&#34; data-lang=&#34;sql&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;ALTER&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;TABLE&lt;/span&gt; employees
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;ADD&lt;/span&gt; phone varchar(&lt;span style=&#34;color:#ae81ff&#34;&gt;20&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h1 id=&#34;5-data-control-language-dcl&#34;&gt;5. Data Control Language (DCL)&lt;/h1&gt;
&lt;p&gt;Data control language is used to implement access control logic in a database. DCL can be used to revoke and grant user privileges on database objects such as tables, views, and functions.&lt;/p&gt;
&lt;p&gt;If an attacker successfully &amp;ldquo;injects&amp;rdquo; DCL type SQL commands into a database, he can violate the confidentiality (using GRANT commands) and availability (using REVOKE commands) of a system. For example, the attacker could grant himself admin privileges on the database or revoke the privileges of the true administrator.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;DCL commands are used to implement access control on database objects.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;GRANT - give a user access privileges on database objects&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;REVOKE - withdraw user privileges that were previously given using GRANT&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Try to grant rights to the table ==&lt;code&gt;grant_rights&lt;/code&gt;== to user ==&lt;code&gt;unauthorized_user&lt;/code&gt;==:&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;&lt;/code&gt;&lt;/pre&gt;</content>
    </item>
    
  </channel>
</rss>
